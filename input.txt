.data
a: .word 4
b: .word 3
.text
MAIN:
lw x3,a
lw x4,b
addi x8,x3,0
addi x9,x4,0
jal x1,FUNC
beq x0,x0,quit
FUNC:
addi x5,x0,1
beq x9,x5,return
addi sp,sp,-4
sw x1,0(sp)
andi x5,x9,1
beq x5,x0,even
mul x8,x8,x8
srli x9,x9,1
jal x1,FUNC
mul x8,x8,x3
beq x0,x0,exit
even:
mul x8,x8,x8
srli x9,x9,1
jal x1,FUNC
exit:
lw x1,0(sp)
addi sp,sp,4
return:
jalr x0,0(x1)
quit:
